<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto - Exploraconmigo</title>
    <link rel="stylesheet" href="CONTACTO.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>

    <header>
        <div class="logo-container">
            <img src="LOGOS/Logoprincipal.png" alt="Logo Turismo de Naturaleza" class="logo" height="150">
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="destinos.html">Destinos</a></li>
                    <li><a href="tours.html">Tours</a></li>
                    <li><a href="galeria.html">Galería</a></li>
                    <li><a href="contacto.html" class="activo">Contacto</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="contacto">
            <div class="contenedor">
                <h2>Contáctanos</h2>
                <p>¿Tienes alguna pregunta o quieres personalizar tu aventura? ¡Escríbenos!</p>
                <form id="formularioContacto" class="formulario-contacto" action="registro_contacto.php" method="POST">
                <div class="form-group">
                <input type="text" name="nombre" id="nombre" placeholder="Tu Nombre" required>
                <small class="error-msg" id="error-nombre"></small>
                </div>
    
                <div class="form-group">
                <input type="email" name="email" id="email" placeholder="Tu Email" required>
                <small class="error-msg" id="error-email"></small>
                </div>
    
                <div class="form-group">
                <textarea name="mensaje" id="mensaje" placeholder="Tu Mensaje" rows="5" required></textarea>
                <small class="error-msg" id="error-mensaje"></small>
                </div>
    
                <button type="submit" id="btnSubmit" class="boton-primario">
                <span id="btnText">Enviar Mensaje</span>
                <div id="btnSpinner" class="spinner"></div>
                </button>
                </form>
            </div>
        </section>
    </main>

    <footer>
        <div class="contenedor">
            <p>&copy; 2025 Turismo de Naturaleza. Todos los derechos reservados.</p>
            <div class="redes-sociales">
                <a href="https://www.facebook.com/tuusuario" target="_blank" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="https://www.instagram.com/tuusuario" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="https://wa.me/573001234567" target="_blank" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
            </div>
        </div>
    </footer>
    
    
    
    <div id="mensajeExito" class="mensaje-exito" style="display: none;">
    ¡Gracias por tu mensaje! Nos pondremos en contacto contigo pronto.
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.has('success') && urlParams.get('success') === '1') {
        // Limpiar el parámetro de la URL
        history.replaceState(null, null, window.location.pathname);
        
        // Mostrar alerta
        Swal.fire({
            icon: 'success',
            title: '¡Mensaje enviado!',
            text: 'Nos pondremos en contacto contigo pronto.',
            timer: 5000,
            timerProgressBar: true,
            showConfirmButton: false,
            position: 'top',
            background: 'white',
            backdrop: false
        });
    }
});
    </script>

    <script>
document.addEventListener('DOMContentLoaded', function() {
    const formulario = document.getElementById('formularioContacto');
    const btnSubmit = document.getElementById('btnSubmit');
    const btnText = document.getElementById('btnText');
    const btnSpinner = document.getElementById('btnSpinner');

    // Validación en tiempo real
    formulario.addEventListener('input', function(e) {
        const input = e.target;
        validateField(input);
    });

    // Validación al enviar
    formulario.addEventListener('submit', function(e) {
        e.preventDefault();
        
        let isValid = true;
        const inputs = formulario.querySelectorAll('input, textarea');
        
        inputs.forEach(input => {
            if (!validateField(input)) isValid = false;
        });

        if (isValid) {
            // Mostrar spinner y deshabilitar botón
            btnText.textContent = 'Enviando...';
            btnSpinner.style.display = 'block';
            btnSubmit.disabled = true;

            // Enviar formulario
            fetch(formulario.action, {
                method: 'POST',
                body: new FormData(formulario)
            })
            .then(response => {
                if (response.ok) {
                    window.location.href = 'contacto.html?success=1';
                } else {
                    throw new Error('Error en el servidor');
                }
            })
            .catch(error => {
                alert('Error al enviar el mensaje. Por favor intenta nuevamente.');
                console.error(error);
            })
            .finally(() => {
                btnText.textContent = 'Enviar Mensaje';
                btnSpinner.style.display = 'none';
                btnSubmit.disabled = false;
            });
        }
    });

    function validateField(field) {
        const errorElement = document.getElementById(`error-${field.id}`);
        
        if (field.value.trim() === '') {
            showError(field, errorElement, 'Este campo es obligatorio');
            return false;
        }

        if (field.type === 'email' && !isValidEmail(field.value)) {
            showError(field, errorElement, 'Ingresa un email válido');
            return false;
        }

        // Si pasa las validaciones
        field.classList.remove('error');
        errorElement.style.display = 'none';
        return true;
    }

    function showError(field, errorElement, message) {
        field.classList.add('error');
        errorElement.textContent = message;
        errorElement.style.display = 'block';
    }

    function isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }
});
</script>

</body>
</html>
